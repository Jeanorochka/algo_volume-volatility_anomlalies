python 3.11.x
$env:INVEST_TOKEN="(ваш токен)"
$env:INVEST_ACCOUNT_ID="ID аккаунта"

python -m pip install --upgrade pip
pip install pandas numpy matplotlib apimoex tinkoff-invest

History.py - создает папку, заполненную историей 5-минутных свечей, начиная с даты X
Config.json - конфиг :)
Main.py - то, что нужно запускать

По сделкам будут вестись логи, сможете потом посчитать PnL
!!!DRYTEST должен быть false, если вы хотите торговать реальными деньгами, конечно
GPT мамуля позаботилась об описании скрипта, которое я ненавижу писать, поэтому глазкам будет приятно 
Учитываем комиссию. У вас, скорее всего, 0.03%, а не 0.004%.
have fun folks

05.12.2025
теперь видит уже открытые позы и работает с ними аналогично
05.12.2025
учитывается спред
06.12.2025
теперь торгует минутные свечи (можно подправить под ваш диапазон в мейне -- не проблема)
06.12.2025
заходит-выходит теперь прям внутри свечи, а не пo last_price ~



